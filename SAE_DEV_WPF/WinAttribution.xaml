<Window
    x:Class="SAE_DEV_WPF.WinAttribution"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SAE_DEV_WPF"
    xmlns:model="clr-namespace:SAE_DEV_WPF.Model"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="MATINFO"
    Width="800"
    Height="600"
    mc:Ignorable="d" WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <model:ApplicationData x:Name="applicationData"/>
    </Window.DataContext>


    <Window.Resources>
        <!--  template pour inserer une case a cocher dans un listview : la case est cochee sur la selection d'un item  -->
        <DataTemplate x:Key="caseACocher">
            <StackPanel Orientation="Horizontal">
                <CheckBox IsChecked="{Binding Path=IsSelected, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListViewItem}}}" />
            </StackPanel>
        </DataTemplate>
    </Window.Resources>



    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="477*"/>
            <RowDefinition Height="107*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="57*"/>
            <ColumnDefinition Width="143*"/>
        </Grid.ColumnDefinitions>

        <Menu Grid.ColumnSpan="2" Grid.RowSpan="2">
            <MenuItem Header="_Gerer">

                <MenuItem x:Name="Modifier" Header="_Modifier">
                    <MenuItem x:Name="miCategorie" Header="_Catégorie" Click="miCategorie_Click"/>
                    <MenuItem x:Name="miMateriel" Header="_Matériel" Click="miMateriel_Click"/>
                    <MenuItem x:Name="miPersonnel" Header="_Personnel" Click="miPersonnel_Click"/>
                </MenuItem>

            </MenuItem>
            <MenuItem x:Name="apropos" Header="_A propos" Click="apropos_Click" />
        </Menu>




        <!--  Partie  filtre  -->
        <ListView Margin="10,41,8,2">
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="30" CellTemplate="{StaticResource caseACocher}" />
                </GridView>
            </ListView.View>
        </ListView>



        <!--  Partie data grid des donnes attribution  -->
        <DataGrid
            Margin="23,28,41,2"
            AutoGenerateColumns="False"
            ItemsSource="{Binding Path=LesAttributions}" HeadersVisibility="Column" Grid.Column="1">
            <DataGrid.Columns>
                <DataGridTextColumn Width="*" Header="Personnel" Binding="{Binding Personnel.Nom}"/>
                <DataGridTextColumn Width="*" Header="Materiel" Binding="{Binding Materiel.Nom}"/>
                <DataGridTextColumn Width="*" Header="Date" Binding="{Binding Date}"/>
                <DataGridTextColumn Width="*" Header="Commentaire" Binding="{Binding Commentaire}"/>
            </DataGrid.Columns>
        </DataGrid>


        <!--  Partie valider et reset les filtres  -->
        <Button
            Width="91"
            Height="31"
            Margin="54,340,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Content="Valider" />
        <Button
            Width="91"
            Height="31"
            Margin="54,389,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Content="Reset" />




    </Grid>







</Window>
